<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard | नागरिक सेवा पोर्टल</title>
    <link rel="stylesheet" href="portal-style.css">
</head>
<body class="dashboard-body">
    
    <!-- Dashboard Navigation -->
    <nav class="dashboard-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <svg width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                    <polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
                <span>नागरिक सेवा पोर्टल</span>
            </div>
            <div class="nav-user">
                <div class="notification-icon" onclick="toggleNotifications()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                    </svg>
                    <span class="notification-badge">3</span>
                </div>
                <div class="user-profile" onclick="toggleUserMenu()">
                    <div class="user-avatar">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                    <div class="user-info">
                        <span class="user-name" id="userName">Ram Bahadur Sharma</span>
                        <span class="user-role">Citizen</span>
                    </div>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 10l5 5 5-5z"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Notification Dropdown -->
        <div id="notificationDropdown" class="dropdown-menu notification-dropdown">
            <div class="dropdown-header">
                <h3>Notifications</h3>
                <button class="mark-read-btn">Mark all as read</button>
            </div>
            <div class="notification-list">
                <div class="notification-item unread">
                    <div class="notification-icon success">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div class="notification-content">
                        <p><strong>Complaint Resolved</strong></p>
                        <p>Your complaint #CPL-2025-0234 has been resolved</p>
                        <span class="notification-time">2 hours ago</span>
                    </div>
                </div>
                <div class="notification-item unread">
                    <div class="notification-icon info">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div class="notification-content">
                        <p><strong>Status Update</strong></p>
                        <p>NEA has acknowledged your electricity complaint</p>
                        <span class="notification-time">5 hours ago</span>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-icon warning">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                        </svg>
                    </div>
                    <div class="notification-content">
                        <p><strong>More Information Required</strong></p>
                        <p>Ward office needs additional details for #CPL-2025-0189</p>
                        <span class="notification-time">1 day ago</span>
                    </div>
                </div>
            </div>
            <div class="dropdown-footer">
                <a href="#">View all notifications</a>
            </div>
        </div>

        <!-- User Menu Dropdown -->
        <div id="userMenuDropdown" class="dropdown-menu user-menu-dropdown">
            <div class="user-menu-header">
                <div class="user-avatar-large">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <div>
                    <div class="user-name-large">Ram Bahadur Sharma</div>
                    <div class="user-email">ram.sharma@example.com</div>
                </div>
            </div>
            <div class="user-menu-items">
                <a href="#" class="user-menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    My Profile
                </a>
                <a href="#" class="user-menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    Settings
                </a>
                <a href="#" class="user-menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Help & Support
                </a>
                <div class="menu-divider"></div>
                <a href="index-portal.html" class="user-menu-item logout">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                    Logout
                </a>
            </div>
        </div>
    </nav>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <nav class="sidebar-nav">
                <a href="#" class="sidebar-item active" data-section="dashboard" onclick="showSection('dashboard')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-item" data-section="new-complaint" onclick="showSection('new-complaint')">
                    <!-- <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 4v16m8-8H4"/>
                    </svg> -->
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M12 4v16m8-8H4"/>
</svg>
                    <span>New Complaint</span>
                </a>
                <a href="#" class="sidebar-item" data-section="my-complaints" onclick="showSection('my-complaints')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                    </svg>
                    <span>My Complaints</span>
                    <span class="badge">5</span>
                </a>
                <a href="#" class="sidebar-item" data-section="track-status" onclick="showSection('track-status')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                    </svg>
                    <span>Track Status</span>
                </a>
                <a href="#" class="sidebar-item" data-section="analytics" onclick="showSection('analytics')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                    </svg>
                    <span>Analytics</span>
                </a>
                <a href="#" class="sidebar-item" data-section="resources" onclick="showSection('resources')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                    </svg>
                    <span>Resources</span>
                </a>
                <a href="#" class="sidebar-item" data-section="feedback" onclick="showSection('feedback')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
                    </svg>
                    <span>Feedback</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="dashboard-main">
            
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="section-header-inline">
                    <h1>Dashboard Overview</h1>
                </div>

                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card-dash">
                        <div class="stat-icon-dash pending">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>3</h3>
                            <p>Pending Complaints</p>
                        </div>
                    </div>
                    <div class="stat-card-dash">
                        <div class="stat-icon-dash progress">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>2</h3>
                            <p>In Progress</p>
                        </div>
                    </div>
                    <div class="stat-card-dash">
                        <div class="stat-icon-dash resolved">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>8</h3>
                            <p>Resolved</p>
                        </div>
                    </div>
                    <div class="stat-card-dash">
                        <div class="stat-icon-dash total">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>13</h3>
                            <p>Total Complaints</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Complaints -->
                <div class="dashboard-card">
                    <div class="card-header-inline">
                        <h2>Recent Complaints</h2>
                        <a href="#" onclick="showSection('my-complaints')" class="text-link">View All →</a>
                    </div>
                    <div class="complaints-table-container">
                        <table class="complaints-table">
                            <thead>
                                <tr>
                                    <th>Reference No.</th>
                                    <th>Category</th>
                                    <th>Department</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>CPL-2025-0234</strong></td>
                                    <td>Electricity</td>
                                    <td>NEA - Kathmandu</td>
                                    <td><span class="status-badge resolved">Resolved</span></td>
                                    <td>Feb 10, 2025</td>
                                    <td><button class="btn-view" onclick="viewComplaint('CPL-2025-0234')">View</button></td>
                                </tr>
                                <tr>
                                    <td><strong>CPL-2025-0189</strong></td>
                                    <td>Road Infrastructure</td>
                                    <td>Ward Office - 5</td>
                                    <td><span class="status-badge progress">In Progress</span></td>
                                    <td>Feb 8, 2025</td>
                                    <td><button class="btn-view" onclick="viewComplaint('CPL-2025-0189')">View</button></td>
                                </tr>
                                <tr>
                                    <td><strong>CPL-2025-0156</strong></td>
                                    <td>Water Supply</td>
                                    <td>Municipality Office</td>
                                    <td><span class="status-badge pending">Pending</span></td>
                                    <td>Feb 5, 2025</td>
                                    <td><button class="btn-view" onclick="viewComplaint('CPL-2025-0156')">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions-grid">
                    <div class="action-card" onclick="showSection('new-complaint')">
                        <div class="action-icon">
                           <svg width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M12 4v16m8-8H4"/>
</svg>
                        </div>
                        <h3>Lodge Complaint</h3>
                        <p>Submit a new grievance or issue</p>
                    </div>
                    <div class="action-card" onclick="showSection('track-status')">
                        <div class="action-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                        </div>
                        <h3>Track Complaint</h3>
                        <p>Check status using reference number</p>
                    </div>
                    <div class="action-card" onclick="showSection('feedback')">
                        <div class="action-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                            </svg>
                        </div>
                        <h3>Give Feedback</h3>
                        <p>Rate resolved complaints</p>
                    </div>
                    <div class="action-card" onclick="showSection('resources')">
                        <div class="action-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                            </svg>
                        </div>
                        <h3>Resources</h3>
                        <p>Guides, FAQs, and help documents</p>
                    </div>
                </div>
            </section>

            <!-- New Complaint Section -->
            <section id="new-complaint-section" class="content-section">
                <div class="section-header-inline">
                    <div>
                        <h1>Lodge New Complaint</h1>
                        <p class="section-subtitle">Provide detailed information for faster resolution</p>
                    </div>
                </div>

                <div class="dashboard-card">
                    <form id="complaintForm" onsubmit="submitComplaint(event)">
                        <!-- <div class="form-section">
                            <h3>Complaint Category</h3>
                            <div class="category-grid">
                                <label class="category-option">
                                    <input type="radio" name="category" value="electricity" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                        </svg>
                                        <span>Corruption</span>
                                    </div>
                                </label>
                                <label class="category-option">
                                    <input type="radio" name="category" value="electricity" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                        </svg>
                                        <span>Electricity</span>
                                    </div>
                                </label>
                                <label class="category-option">
                                    <input type="radio" name="category" value="water" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 2.69l5.66 5.66a8 8 0 11-11.31 0z"/>
                                        </svg>
                                        <span>Water Supply</span>
                                    </div>
                                </label>
                                <label class="category-option">
                                    <input type="radio" name="category" value="road" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/>
                                            <path d="M13 16V6h-2v10h2zM6 6v8a2 2 0 002 2h8a2 2 0 002-2V6a2 2 0 00-2-2H8a2 2 0 00-2 2z"/>
                                        </svg>
                                        <span>Road & Infrastructure</span>
                                    </div>
                                </label>
                                <label class="category-option">
                                    <input type="radio" name="category" value="law" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                                        </svg>
                                        <span>Law & Order</span>
                                    </div>
                                </label>
                                <label class="category-option">
                                    <input type="radio" name="category" value="health" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                        </svg>
                                        <span>Health Services</span>
                                    </div>
                                </label>
                                <label class="category-option">
                                    <input type="radio" name="category" value="other" required>
                                    <div class="category-card">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                        <span>Other</span>
                                    </div>
                                </label>
                            </div>
                        </div> -->

                        <div class="form-section">
                            <h3>Complaint Details</h3>
                            <div class="form-group">
                                <label for="complaintTitle">Subject / Title *</label>
                                <input type="text" id="complaintTitle" name="complaintTitle" required placeholder="Brief description of the issue">
                            </div>
                            <div class="form-group">
                                <label for="complaintDescription">Detailed Description *</label>
                                <textarea id="complaintDescription" name="complaintDescription" rows="8" required 
                                    placeholder="Please provide a detailed description of your complaint. Include:
• What is the problem?
• When did it start?
• Where is it located (specific address/landmark)?
• How is it affecting you or the community?
• What action would you like to see taken?

The more details you provide, the faster we can resolve your issue."></textarea>
                                <div class="char-counter">
                                    <span id="charCount">0</span> / 2000 characters
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Location Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="province">Province *</label>
                                    <select id="province" name="province" required>
                                        <option value="">Select Province</option>
                                        <option value="bagmati">Bagmati Province</option>
                                        <option value="koshi">Koshi Province</option>
                                        <option value="madhesh">Madhesh Province</option>
                                        <option value="gandaki">Gandaki Province</option>
                                        <option value="lumbini">Lumbini Province</option>
                                        <option value="karnali">Karnali Province</option>
                                        <option value="sudurpaschim">Sudurpashchim Province</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="district">District *</label>
                                    <input type="text" id="district" name="district" required placeholder="Enter district name">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="municipality">Municipality / Rural Municipality *</label>
                                    <input type="text" id="municipality" name="municipality" required placeholder="Enter municipality name">
                                </div>
                                <div class="form-group">
                                    <label for="wardNo">Ward Number *</label>
                                    <input type="number" id="wardNo" name="wardNo" required min="1" placeholder="Enter ward number">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="specificLocation">Specific Location / Landmark</label>
                                <input type="text" id="specificLocation" name="specificLocation" placeholder="E.g., Near Pashupati Temple, Main Road">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Supporting Documents (Optional)</h3>
                            <div class="upload-area" id="uploadArea">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                                </svg>
                                <p>Drag and drop files here or click to browse</p>
                                <p class="upload-hint">Support: Images (JPG, PNG), PDF, Documents (Max 10MB each)</p>
                                <input type="file" id="fileInput" multiple accept=".jpg,.jpeg,.png,.pdf,.doc,.docx" style="display:none;">
                            </div>
                            <div id="fileList" class="file-list"></div>
                        </div>

                        <div class="form-section">
                            <h3>Contact Preference</h3>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="emailNotification" checked>
                                    <span>Send me email notifications for status updates</span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="smsNotification">
                                    <span>Send me SMS notifications (additional charges may apply)</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-actions-inline">
                            <button type="button" class="btn-secondary" onclick="resetComplaintForm()">Reset Form</button>
                            <button type="submit" class="btn-primary">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M5 13l4 4L19 7"/>
                                </svg>
                                Submit Complaint
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- My Complaints Section -->
            <section id="my-complaints-section" class="content-section">
                <div class="section-header-inline">
                    <h1>My Complaints</h1>
                    <div class="filter-controls">
                        <select class="filter-select" onchange="filterComplaints(this.value)">
                            <option value="all">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="progress">In Progress</option>
                            <option value="resolved">Resolved</option>
                        </select>
                        <input type="text" class="search-input" placeholder="Search by reference number...">
                    </div>
                </div>

                <div class="complaints-grid">
                    <div class="complaint-card" data-status="resolved">
                        <div class="complaint-header">
                            <div>
                                <h3>Frequent Power Outages</h3>
                                <p class="complaint-ref">CPL-2025-0234</p>
                            </div>
                            <span class="status-badge resolved">Resolved</span>
                        </div>
                        <div class="complaint-body">
                            <div class="complaint-meta">
                                <span><strong>Category:</strong> Electricity</span>
                                <span><strong>Department:</strong> NEA - Kathmandu</span>
                            </div>
                            <p class="complaint-excerpt">Experiencing frequent power cuts in our area for the past week. The outages last 2-3 hours daily...</p>
                            <div class="complaint-timeline">
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Complaint Registered</p>
                                        <p class="timeline-date">Feb 10, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Assigned to Department</p>
                                        <p class="timeline-date">Feb 10, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Investigation Started</p>
                                        <p class="timeline-date">Feb 11, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Issue Resolved</p>
                                        <p class="timeline-date">Feb 12, 2025</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="complaint-footer">
                            <button class="btn-view" onclick="viewComplaintDetails('CPL-2025-0234')">View Details</button>
                            <button class="btn-feedback">Provide Feedback</button>
                        </div>
                    </div>

                    <div class="complaint-card" data-status="progress">
                        <div class="complaint-header">
                            <div>
                                <h3>Road Repair Needed</h3>
                                <p class="complaint-ref">CPL-2025-0189</p>
                            </div>
                            <span class="status-badge progress">In Progress</span>
                        </div>
                        <div class="complaint-body">
                            <div class="complaint-meta">
                                <span><strong>Category:</strong> Road Infrastructure</span>
                                <span><strong>Department:</strong> Ward Office - 5</span>
                            </div>
                            <p class="complaint-excerpt">Large potholes on main road causing accidents. Multiple vehicles have been damaged...</p>
                            <div class="complaint-timeline">
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Complaint Registered</p>
                                        <p class="timeline-date">Feb 8, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Site Inspection Done</p>
                                        <p class="timeline-date">Feb 9, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step active">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Work in Progress</p>
                                        <p class="timeline-date">Feb 11, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Pending Resolution</p>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-update">
                                <div class="progress-header">
                                    <span>Progress: 60%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="complaint-footer">
                            <button class="btn-view" onclick="viewComplaintDetails('CPL-2025-0189')">View Details</button>
                            <button class="btn-track">Track Updates</button>
                        </div>
                    </div>

                    <div class="complaint-card" data-status="pending">
                        <div class="complaint-header">
                            <div>
                                <h3>Water Supply Shortage</h3>
                                <p class="complaint-ref">CPL-2025-0156</p>
                            </div>
                            <span class="status-badge pending">Pending</span>
                        </div>
                        <div class="complaint-body">
                            <div class="complaint-meta">
                                <span><strong>Category:</strong> Water Supply</span>
                                <span><strong>Department:</strong> Municipality Office</span>
                            </div>
                            <p class="complaint-excerpt">No water supply for 3 days. Affecting daily household activities and hygiene...</p>
                            <div class="complaint-timeline">
                                <div class="timeline-step completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Complaint Registered</p>
                                        <p class="timeline-date">Feb 5, 2025</p>
                                    </div>
                                </div>
                                <div class="timeline-step active">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Awaiting Assignment</p>
                                    </div>
                                </div>
                                <div class="timeline-step">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Pending Investigation</p>
                                    </div>
                                </div>
                                <div class="timeline-step">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <p class="timeline-title">Pending Resolution</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="complaint-footer">
                            <button class="btn-view" onclick="viewComplaintDetails('CPL-2025-0156')">View Details</button>
                            <button class="btn-followup">Follow Up</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Track Status Section -->
            <section id="track-status-section" class="content-section">
                <div class="section-header-inline">
                    <h1>Track Complaint Status</h1>
                </div>

                <div class="dashboard-card">
                    <div class="track-search">
                        <h3>Enter Reference Number</h3>
                        <div class="search-box-large">
                            <input type="text" id="trackingNumber" placeholder="CPL-2025-XXXX" maxlength="14">
                            <button class="btn-primary" onclick="trackComplaint()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                                Track
                            </button>
                        </div>
                    </div>

                    <div id="trackingResult" class="tracking-result" style="display:none;">
                        <!-- Results will be displayed here -->
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics-section" class="content-section">
                <div class="section-header-inline">
                    <h1>Personal Analytics</h1>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Complaints by Category</h3>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Resolution Timeline</h3>
                        <div class="chart-container">
                            <canvas id="timelineChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card full-width">
                        <h3>Monthly Trend</h3>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resources Section -->
            <section id="resources-section" class="content-section">
                <div class="section-header-inline">
                    <h1>Resources & Guides</h1>
                </div>

                <div class="resources-grid">
                    <div class="resource-card">
                        <div class="resource-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                            </svg>
                        </div>
                        <h3>User Guide</h3>
                        <p>Complete guide on how to use the portal effectively</p>
                        <button class="btn-resource">Download PDF</button>
                    </div>
                    <div class="resource-card">
                        <div class="resource-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h3>FAQs</h3>
                        <p>Frequently asked questions and answers</p>
                        <button class="btn-resource">View FAQs</button>
                    </div>
                    <div class="resource-card">
                        <div class="resource-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                        </div>
                        <h3>Help & Support</h3>
                        <p>Contact our support team for assistance</p>
                        <button class="btn-resource">Contact Support</button>
                    </div>
                    <div class="resource-card">
                        <div class="resource-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        <h3>Video Tutorials</h3>
                        <p>Watch step-by-step video guides</p>
                        <button class="btn-resource">Watch Videos</button>
                    </div>
                </div>
            </section>

            <!-- Feedback Section -->
            <section id="feedback-section" class="content-section">
                <div class="section-header-inline">
                    <h1>Provide Feedback</h1>
                </div>

                <div class="dashboard-card">
                    <form onsubmit="submitFeedback(event)">
                        <div class="form-group">
                            <label>Select Resolved Complaint</label>
                            <select required>
                                <option value="">Choose a complaint...</option>
                                <option value="CPL-2025-0234">CPL-2025-0234 - Frequent Power Outages</option>
                                <option value="CPL-2025-0198">CPL-2025-0198 - Street Light Issue</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Rate Your Experience</label>
                            <div class="rating-stars">
                                <span class="star" data-rating="1">★</span>
                                <span class="star" data-rating="2">★</span>
                                <span class="star" data-rating="3">★</span>
                                <span class="star" data-rating="4">★</span>
                                <span class="star" data-rating="5">★</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Your Feedback</label>
                            <textarea rows="6" placeholder="Share your experience with the resolution process..."></textarea>
                        </div>
                        <button type="submit" class="btn-primary">Submit Feedback</button>
                    </form>
                </div>
            </section>

        </main>
    </div>

     <script src="portal-script.js"></script>
    <script src="api-connect.js"></script>
</body>
</html>
